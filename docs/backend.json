
{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user's profile information.",
      "type": "object",
      "properties": {
        "uid": { "type": "string", "description": "The user's unique ID." },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "photoURL": {
          "type": "string",
          "format": "uri",
          "description": "URL of the user's profile picture."
        }
      },
      "required": ["uid", "email"]
    },
    "Guest": {
      "title": "Guest",
      "description": "Represents a wedding guest.",
      "type": "object",
      "properties": {
        "id": { "type": "string", "description": "The guest's unique ID." },
        "name": { "type": "string", "description": "The guest's full name." },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The guest's email address."
        },
        "phoneNumber": {
          "type": "string",
          "description": "The guest's phone number."
        },
        "status": {
          "type": "string",
          "enum": ["Attending", "Pending", "Declined"],
          "description": "The guest's RSVP status."
        },
        "group": { "type": "string", "description": "The group the guest belongs to (e.g., Bride's Family, Friends)." }
      },
      "required": ["id", "name", "status"]
    },
    "BudgetItem": {
      "title": "Budget Item",
      "description": "Represents an item in the wedding budget.",
      "type": "object",
      "properties": {
        "id": { "type": "string", "description": "The item's unique ID." },
        "name": { "type": "string", "description": "Name of the budget category." },
        "budget": { "type": "number", "description": "The allocated budget for this category." },
        "spent": { "type": "number", "description": "The amount spent in this category." },
        "vendorId": { "type": "string", "description": "The ID of the linked vendor." }
      },
      "required": ["id", "name", "budget", "spent"]
    },
    "RegistryItem": {
      "title": "Registry Item",
      "description": "Represents an item in the wedding registry.",
      "type": "object",
      "properties": {
        "id": { "type_": "string", "description": "The item's unique ID." },
        "title": { "type_": "string", "description": "The title of the registry item." },
        "store": { "type_": "string", "description": "The store where the item can be purchased." },
        "price": { "type_": "string", "description": "The price of the item." },
        "imageId": { "type_": "string", "description": "The ID of the placeholder image for the item." },
        "purchased": { "type_": "boolean", "description": "Whether the item has been purchased." }
      },
      "required": ["id", "title", "price", "purchased"]
    },
    "WeddingWebsite": {
      "title": "Wedding Website",
      "description": "Stores the configuration for a user's wedding website.",
      "type": "object",
      "properties": {
        "coupleNames": { "type": "string", "description": "The names of the couple." },
        "weddingDate": { "type": "string", "format": "date-time", "description": "The date and time of the wedding." },
        "welcomeMessage": { "type": "string", "description": "A welcome message for the guests." },
        "vanityUrl": { "type": "string", "description": "The custom vanity URL for the website." },
        "templateId": { "type": "string", "description": "The ID of the chosen website template." },
        "ownerId": { "type": "string", "description": "The UID of the user who owns the website."}
      },
      "required": ["coupleNames", "weddingDate", "templateId", "ownerId"]
    },
    "Vendor": {
      "title": "Vendor",
      "description": "Represents a wedding vendor.",
      "type": "object",
      "properties": {
        "id": { "type": "string", "description": "The vendor's unique ID." },
        "name": { "type": "string", "description": "The name of the vendor." },
        "category": { "type": "string", "description": "The category of the vendor (e.g., Venues, Photography)." },
        "location": { "type": "string", "description": "The location of the vendor." },
        "priceRange": { "type": "string", "enum": ["₹", "₹₹", "₹₹₹", "₹₹₹₹"], "description": "The price range of the vendor." },
        "rating": { "type": "number", "description": "The average rating of the vendor." },
        "reviewCount": { "type": "number", "description": "The number of reviews for the vendor." },
        "isFeatured": { "type": "boolean", "description": "Whether the vendor is a featured vendor." },
        "imageId": { "type": "string", "description": "A base64 data URI of the main vendor image." },
        "logoImageId": { "type": "string", "description": "A base64 data URI of the vendor's logo." },
        "galleryImageIds": { "type": "array", "items": { "type": "string" }, "description": "A list of base64 data URIs for the vendor's gallery." },
        "services": { "type": "array", "items": { "$ref": "#/entities/VendorService" } }
      },
      "required": ["id", "name", "category", "location", "priceRange", "rating", "reviewCount"]
    },
    "VendorService": {
      "title": "Vendor Service",
      "description": "A specific service offered by a vendor.",
      "type": "object",
      "properties": {
        "name": { "type": "string", "description": "The name of the service." },
        "price": { "type": "number", "description": "The price of the service in rupees." }
      },
      "required": ["name", "price"]
    },
    "VendorCategory": {
        "title": "Vendor Category",
        "description": "A category for wedding vendors.",
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "name": { "type": "string" },
          "description": { "type": "string" },
          "icon": { "type": "string", "description": "Lucide icon name" }
        },
        "required": ["id", "name", "icon"]
    },
    "VendorReview": {
        "title": "Vendor Review",
        "description": "A review for a specific vendor.",
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "vendorId": { "type": "string" },
          "userId": { "type": "string" },
          "rating": { "type": "number", "minimum": 1, "maximum": 5 },
          "comment": { "type": "string" }
        },
        "required": ["id", "vendorId", "userId", "rating"]
    },
    "SavedVendor": {
      "title": "Saved Vendor",
      "description": "Represents a link between a user and a vendor they have saved.",
      "type": "object",
      "properties": {
        "vendorId": { "type": "string", "description": "The ID of the saved vendor." },
        "savedAt": { "type": "string", "format": "date-time", "description": "The timestamp when the vendor was saved." }
      },
      "required": ["vendorId", "savedAt"]
    }
  },
  "auth": {
    "providers": ["Google", "Email"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/entities/UserProfile" },
      "description": "Stores private user profile information."
    },
    "/users/{userId}/guests/{guestId}": {
      "schema": { "$ref": "#/entities/Guest" },
      "description": "Subcollection for a user's guests."
    },
    "/users/{userId}/budgetItems/{itemId}": {
      "schema": { "$ref": "#/entities/BudgetItem" },
      "description": "Subcollection for a user's budget items."
    },
    "/users/{userId}/registryItems/{itemId}": {
      "schema": { "$ref": "#/entities/RegistryItem" },
      "description": "Subcollection for a user's registry items."
    },
    "/users/{userId}/website/details": {
        "schema": { "$ref": "#/entities/WeddingWebsite" },
        "description": "Document storing a user's private website configuration."
    },
    "/users/{userId}/savedVendors/{vendorId}": {
      "schema": { "$ref": "#/entities/SavedVendor" },
      "description": "Subcollection for a user's saved vendors."
    },
    "/websites/{vanityUrl}": {
        "schema": { "$ref": "#/entities/WeddingWebsite" },
        "description": "Publicly accessible collection of wedding websites, identified by their vanity URL."
    },
    "/vendors/{vendorId}": {
        "schema": { "$ref": "#/entities/Vendor" },
        "description": "Collection of all vendors in the marketplace."
    },
    "/vendorCategories/{categoryId}": {
        "schema": { "$ref": "#/entities/VendorCategory" },
        "description": "Collection of all vendor categories."
    }
  },
  "database": {
    "rules": "rules.json"
  }
}
